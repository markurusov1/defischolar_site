[{"id":0,"href":"/docs/start/","title":"Introduction","section":"Docs","content":"Welcome to DeFi Scholar!# The What and Why of DeFi# DeFi is short for “DeCentralized Finance” For aspiring finance majors, studying DeFi is essential because it represents the programmable future of money, thereby equipping students to thrive in an industry where traditional barriers are crumbling in favor of transparent, efficient systems \u0026ldquo;If you\u0026rsquo;re not looking at DeFi, you\u0026rsquo;re not going to make it in finance\u0026rdquo; Approach# “Learn together” – this guide is by a high schooler for high schoolers Keeping things simple and using examples Explain basics and leave deep dives for projects or future study "},{"id":1,"href":"/docs/start/basic_terminology/","title":"Basic Terminology","section":"Introduction","content":" Networks# A lot of material is going to be about networks In the blockchain/de-fi world a network is either a bunch of computers – proper servers, but also phones and tables and such or a bunch of people who use these computers to trade, mine, bet and such These people or computers are referred to as “nodes” Blockchain# Blockchain is the name of technology - computer programs executing a bunch of well-known algorithms Bitcoin, Ethereum, Solana are different networks that use Blockchain Each of these networks uses a specific token – Bitcoin is a token, the NFTs, mem coins, stablecoins - all these things are tokens Some algorithms have to with cryptography, which is why people refer to blockchain tokens as “cryptocurrency” or just “crypto” P2P (peer to peer) and “De” in DeFi# Blockchain is a peer-to-peer network; all peers are equals – they have the same rights on the network No central authority = DEcentralized network This is where the “De” in De-Fi coming from The \u0026ldquo;FI\u0026rdquo; in DeFi# The networks we just mentioned allow people to create apps that use tokens to do “proper” finance activities – running exchanges, trading, lending, earning fees and such – hence “Fi” in De-Fi So you now have a decentralized network of equal peers Anyone can create an app and anyone can use apps Which is really why the opportunities of De-Fi are limitless Basic finance concepts# Given that De-Fi is still about finance, there are a few finance concepts you need to understand for now They are: exchange, liquidity and pool De-Fi deals with payments, loans, interest fees, trades and such - and you’d eventually need to get fluent with those Exchange# Take a “Currency Exchange” kiosk at any airport - it buys and sells currency You can buy 77 pounds for 100 dollars (1.3 exchange sell rate) Or you can buy 96 dollars for 77 pounds (1.25 exchange buy rate) The difference between the rates is called “spread” and this is how exchanges make money * Bob came and gave the Exchange $100. Exchange has given Bob 77 pounds\r* John then came and gave the exchange 77 pounds. Exchange has given John $96\r* Exchange just made $4 and kept its 77 pounds\r* Stock exchanges and all other exchanges work the same wayLiquidity# The airport currency exchange kiosks can trade many currencies This means they have enough actual paper cash for each currency right there in the airport, so that they can meet the demand of travelers They probably reload daily Having enough stuff to trade is called liquidity In finance, the major banks are called the “sell side” because they sell liquidity, meaning they have (or can get) stuff for other Wall Street firms to trade "},{"id":2,"href":"/docs/currencies_and_trust/","title":"Currencies","section":"Docs","content":"Currency and Money# One year of attending Columbia University is worth three Honda Accords Or $90K (USD) Or 40 oz of gold Or 0.81 Bitcoin USD, Gold and Bitcoin are currencies, used to make it easy to compare the value of things One of the important things about currencies is how much trust people have in them – can they be faked? can they be taken away? can they one day be worth nothing? Currencies and Trust# A traditional currency, like the US dollar, only works because people trust that other people will buy/sell stuff for dollars and that the US government won’t just start printing dollars When cryptocurrency started (bitcoin first), not very many people were willing to buy/sell stuff for it. Banks wouldn’t give you dollars for it, so it was just a belief that at some point in the future the acceptance and trust will grow…which has (kind of) happened The reason people trust gold is that everyone believes it will be accepted as currency forever – because it cannot be manufactured at will or faked Gold is still the second-best thing to just trading things (one horse for 10 sheep) directly, known as barter Real Gold and Digital Gold# When people say “bitcoin is a digital gold,” they mean that: There is a limited amount of it, or it is tough to create/find Governments have no control on the creation of bitcoin or gold Which is “almost” true It has only as much value as people believe it has. Things like gold and diamonds are largely useless, but they are believed to be valuable forever. Same with Bitcoin and - increasingly - other cryptocurrencies Types of Currencies# Before we dive deeper into how the blockchain works… There are three types of currencies: Fiat currencies – dollars, pounds, euros-are issued by the governments Stable cryptocurrencies – these are “pegged” to Fiat currencies, meaning that for every digital coin there is a dollar (this is known as “backed by fiat”) Other cryptocurrencies, not backed by anything at all (Bitcoin is one of them) Remember that a cryptocurrency is really just a token generated by a blockchain network You can create your own network with your own tokens – that would be your own cryptocurrency There are tons of trust issues around all of this "},{"id":3,"href":"/docs/networks/","title":"Blockchain Networks","section":"Docs","content":"Layer 1 (L1) Networks# A Layer 1 (L1) blockchain is a foundational network that operates independently. It handles its own security, transaction validation, and consensus without relying on another network. Think of it as the \u0026ldquo;base layer\u0026rdquo; or the highway system upon which everything else is built L1 networks act as the \u0026ldquo;source of truth\u0026rdquo; for the ledger, ensuring decentralization without relying on external systems. Layer 2 (L2) solutions are built on top of L1 networks Summary of what L1 networks do# Characteristic Description Examples from Prominent L1 Networks Consensus Mechanism The protocol that enables network participants (nodes) to agree on the state of the blockchain, ensuring security and preventing double-spending. Common types include Proof-of-Work (PoW, energy-intensive mining), Proof-of-Stake (PoS, staking-based validation), and Delegated Proof-of-Stake (DPoS). This directly impacts decentralization, energy use, and transaction finality. Bitcoin (PoW), Ethereum (PoS post-Merge), Solana (PoH + PoS hybrid). Security Achieved through cryptographic hashing, distributed node validation, and economic incentives (e.g., slashing stakes for malicious behavior). L1s prioritize immutability and resistance to attacks like 51% attacks. Ethereum\u0026rsquo;s PoS uses staking penalties; Bitcoin relies on massive computational power for PoW security. Scalability Refers to transaction throughput (TPS), block size/time, and handling network congestion. Most L1s face the \u0026ldquo;blockchain trilemma\u0026rdquo; (balancing security, decentralization, and scalability), often achieving 7-100 TPS natively. Solutions like sharding or state channels are integrated at L1 level. Solana (up to 65,000 TPS via Proof-of-History), Ethereum (15-30 TPS, improved via sharding plans). Tokenomics Native tokens used for transaction fees (gas), staking rewards, and governance. Includes supply mechanics (fixed vs. inflationary) and utility in the ecosystem. Bitcoin (BTC: fixed 21M supply, store-of-value), Ethereum (ETH: used for gas fees and staking). Support for Rollups and L2 Solutions While rollups (e.g., optimistic or zk-rollups) are L2 scaling tools that batch transactions off-chain and settle on L1, strong L1s provide secure data availability and finality for these. This enables higher TPS without compromising L1 security. Ethereum dominates rollups (e.g., Arbitrum, Optimism settle on Ethereum); emerging L1s like Polygon (now L1 with zkEVM) natively support rollup-like scaling. Governance Mechanisms for protocol upgrades, often on-chain voting via tokens or off-chain signaling. Affects adaptability to new features. Ethereum (off-chain EIPs + on-chain voting); Tezos (on-chain baking and proposals). Interoperability Ability to communicate with other chains via bridges or standards, crucial for cross-chain DeFi and data transfer. Cosmos (IBC protocol for sovereign chains); Polkadot (parachains for shared security). "},{"id":4,"href":"/docs/networks/top15/","title":"Top15","section":"Blockchain Networks","content":"Financial metrics# Market Cap is how much the tokens are worth in dollars TVL - total locked value - is how much people lock (commit) to business (more on this later A higher TVL often indicates more trust and utility (people locking more of their tokens into business) You can see that while Ethereum is about 1/4th of Bitcoin in terms of MarketCap, it is 10X in TVL Meaning people do a lot of business on Ethereum (which is really where De-Fi started and developed) The Top 15 Networks# "},{"id":5,"href":"/docs/networks/the_big_three/","title":"The Big Three","section":"Blockchain Networks","content":"Comparing the Big Three# Each network makes different trade-offs in its architecture:\nBitcoin (The Store of Value): Focused on maximum security and decentralization. It is slow (7 transactions per second) but serves as the world’s most secure ledger. Ethereum (The World Computer): The leader in programmability. While it can be expensive and slower than newer chains, it is the most trusted for complex financial applications. Solana (The Speed King): Built for mass adoption. It can handle up to 65,000 transactions per second with fees under a penny, making it ideal for gaming and high-frequency trading. The Blockchain Trilemma# No blockchain is perfect. Developers must balance three competing priorities:\nDecentralization: The network is run by many people/computers. Security: The network is impossible to hack or corrupt. Scalability: The network stays fast and cheap as more people use it. Improving one often means sacrificing another. For example, Solana achieves high scalability but is often criticized for being less decentralized than Bitcoin.\n"},{"id":6,"href":"/docs/networks/network_browsers/","title":"Network Browsers","section":"Blockchain Networks","content":"Network Browsers# Remember how we said that blockchain is a completely transparent system? This site - Blockchain Explorer - Bitcoin Tracker \u0026amp; More | Blockchain.com - lets you see all transactions in three major L1 networks As an example, this link-lets you understand what happened to a specific block This is Ethereum network browser Keep these links handy, even if you don’t immediately understand what’s going on "},{"id":7,"href":"/docs/smart_contracts/","title":"Smart Contracts","section":"Docs","content":"What are smart contracts?# Smart contracts are programs (code) that run on the blockchain networks Ethereum started it. Solana scaled it. The rest are racing to own DeFi in 2025. Smart contracts execute logic that moves tokens between wallets The execution is automated. Once the contract is started, there’s no stopping or changing it Anyone can create and deploy smart contracts An easy example would be creating a pool for a fantasy football league Fantasy League Pool \u0026amp; Payouts via Smart Contracts# Pool Creation# Smart contract is deployed with rules: entry fee (e.g., 0.01 ETH), max players, deadline, payout structure (1st: 50%, 2nd: 30%, 3rd: 20%) Contract accepts deposits — each player sends crypto to the contract address (not a person) Entry \u0026amp; Commitment# Players submit team rosters Contract locks funds until league ends — no refunds after deadline (enforced by code) Score Tracking (Oracle Integration)# Smart contract pulls real player stats from a trusted Oracle (e.g., Chainlink) Oracle is a third party that provides data to smart contracts Automatic Payouts# At league end, distributePrizes() triggers: first place → 50% of pool, second → 30%, third → 20% Funds sent directly to winners’ wallets — no manual payout, no trust needed – this is where the automatic execution of a smart contract guarantees contract enforcement "},{"id":8,"href":"/docs/defi_basics/pools_farming/","title":"Liquidity pools and Yield Farming","section":"Defi Basics","content":" Pools# Pools are a little bit like the pot in Poker You lock player\u0026rsquo;s money in a pot (pool) and you play it The same is with Polymarket and Fantasy football—you lock the money, and you wait for things to happen, and when they happen, you let the rules of the game (contracts) distribute the pot In the case of DeFi, we are dealing with pools of tokens (ETH, DAI, USDC, etc.) Pool Farming# In De-Fi, pool farming is a form of passive income—meaning you put your money somewhere, and it gives you returns Specifically - much like with airport currency exchanges—you can lock your money in a digital currency trading pool (ran by someone else), and they will pay you a fee each time a transaction is made In this case you act as a liquidity provider This is really important to understand…in real finance, only financial institutions (mostly big banks or governments) are as liquidity providers In De-Fi it can be anyone What Are Liquidity Pools?# Liquidity pools are a core building block of Decentralized Finance (DeFi), especially on platforms like Uniswap or other Automated Market Makers (AMMs). Think of them as shared \u0026ldquo;pots\u0026rdquo; of cryptocurrency tokens that anyone can contribute to or draw from, enabling seamless trading without needing a traditional middleman like a stock exchange. Instead of buyers and sellers matching orders (like on eBay), liquidity pools use smart contracts—self-executing code on blockchains like Ethereum—to automate trades based on math. This makes DeFi fast, open, and borderless, but it also introduces some unique risks and rewards.\nHow Do Liquidity Pools Work?# The Setup: A liquidity pool typically holds two (or more) tokens in equal value, say ETH and USDC (a stablecoin pegged to the U.S. dollar). Users called liquidity providers (LPs) deposit these tokens into the pool. For example, you might add $500 worth of ETH and $500 worth of USDC, creating a balanced reserve.\nThe Magic Math (AMM Formula): The pool maintains balance using the constant product formula: ( x \\times y = k ), where:\n( x ) is the amount of the first token (e.g., ETH). ( y ) is the amount of the second token (e.g., USDC). ( k ) is a constant number that never changes. If someone wants to swap 1 ETH for USDC, the smart contract calculates how much USDC to give out to keep ( k ) the same. This automatically adjusts prices based on supply and demand—more trades in one direction make that token scarcer and pricier. It\u0026rsquo;s like a vending machine that restocks itself dynamically!\nTrading and Fees: Traders pull liquidity from the pool (e.g., swapping ETH for USDC), and the pool rebalances. LPs earn a small fee (often 0.3%) on every trade, proportional to their share of the pool. If the pool has $1 million total, and you provided $1,000, you get 0.1% of all fees—passive income! Why Use Liquidity Pools? (The DeFi Perks)# Decentralization: No bank or broker controls it; it\u0026rsquo;s run by code on the blockchain, open to anyone with an internet connection. Efficiency: Instant trades 24/7, even for niche tokens, without waiting for a counterparty. Yield Opportunities: In tools like DeFi Scholar, you could simulate this by \u0026ldquo;providing liquidity\u0026rdquo; to a virtual pool with scholar tokens, earning rewards while learning how real-world yields (like from Aave) compound over time. The Risks (And How to Spot Them)# Liquidity pools aren\u0026rsquo;t risk-free— that\u0026rsquo;s where the education shines:\nImpermanent Loss: If token prices shift a lot (e.g., ETH moons while USDC stays flat), your pooled assets might be worth less than if you\u0026rsquo;d just held them separately. It\u0026rsquo;s \u0026ldquo;impermanent\u0026rdquo; because it only \u0026ldquo;locks in\u0026rdquo; if you withdraw during the imbalance. Smart Contract Bugs: Code can have flaws, leading to hacks (though audited pools like Uniswap minimize this). Volatility: Pools amplify market swings, teaching behavioral economics—like how a \u0026ldquo;crash\u0026rdquo; simulation in DeFi Scholar could wipe out gains if you\u0026rsquo;re overexposed. What is Yield Farming?# Yield farming is an advanced DeFi strategy where users \u0026ldquo;farm\u0026rdquo; rewards by providing liquidity to decentralized protocols, essentially lending out their crypto assets to earn high yields—often much higher than traditional savings accounts. It\u0026rsquo;s like planting seeds (your tokens) in a garden (liquidity pools) and harvesting crops (rewards) over time, but with the potential for rapid growth or weeds (risks). As of 2025, with DeFi\u0026rsquo;s total value locked (TVL) surging due to RWA tokenization and AI-driven optimizations, yield farming remains a cornerstone for passive income, simulating real-world economics like supply/demand dynamics in automated market makers (AMMs).\nIn the DeFi Scholar platform, yield farming is gamified through quests like \u0026ldquo;Optimize your APY to beat inflation,\u0026rdquo; where you use virtual scholar tokens to farm yields, compounding rewards based on real Aave-like rates from APIs—teaching behavioral economics without real crypto exposure.\nHow Yield Farming Works (Step-by-Step)# Yield farming builds on basics like staking (locking tokens for network security) but focuses on liquidity provision for trading pairs. Here\u0026rsquo;s the core process:\nDeposit Liquidity into Pools: Connect a wallet (e.g., MetaMask) to a DeFi platform like Uniswap or Curve. Add equal values of two tokens (e.g., ETH and USDC) to a liquidity pool—a smart contract that facilitates trades via AMM math (constant product formula: x * y = k, where x and y are token reserves). In return, you get LP (liquidity provider) tokens representing your share.\nEarn Base Rewards: Protocols reward LPs with a cut of trading fees (e.g., 0.3% per swap on Uniswap) plus governance tokens (e.g., UNI or CRV) to incentivize participation. This is \u0026ldquo;liquidity mining.\u0026rdquo;\nStake LP Tokens for Extra Yields: To amp it up, stake those LP tokens in a farming vault on platforms like Yearn.finance or Beefy. Here, you earn additional token rewards, often with compounding (reinvesting automatically for exponential growth).\nOptimize and Harvest: Monitor APY (annual percentage yield, which can hit 10-50%+ in 2025 for volatile pairs but fluctuates wildly). Harvest rewards periodically, swap them for more base assets, and redeposit to compound. Tools like Zapper or DeFiLlama help track multi-protocol strategies.\nWithdraw: Unstake and remove liquidity anytime (though fees or slippage may apply). In liquid staking variants (e.g., via Pendle), you can trade future yields without locking up.\nStrategy Description Example 2025 APY (Est.) DeFi Scholar Tie-In Single-Sided Staking Stake one token in a pool (e.g., stablecoins only). 5-15% (e.g., USDC on Aave) Basic virtual staking module for compounding interest. LP Farming Provide paired liquidity + stake LPs. 20-100% (e.g., ETH/BTC on SushiSwap) Simulate AMM math (x*y=k) with scholar tokens. Cross-Chain Yield Farm across networks (e.g., Ethereum to Solana via bridges). 30-80% (with RWA boosts) Capstone workflow: Collateralized lending across simulated networks. Leveraged Farming Borrow to amplify deposits (high risk). 50%+ (but volatile) Risk education via \u0026ldquo;market crash\u0026rdquo; simulations showing liquidation. Why Farm Yields? Benefits in 2025# High Returns: APYs often outpace inflation or TradFi (e.g., 8-12% base on stables, spiking during bull runs). Compounding Power: Reinvest rewards to grow exponentially—e.g., start with $1,000 at 20% APY, compound monthly, and hit ~$1,220 in a year. Accessibility: No KYC needed; start with $100 on testnets. 2025 trends like AI oracles (e.g., Chainlink) auto-optimize strategies. Educational Edge: In DeFi Scholar, it ties into economics via Sharpe ratio scoring in tournaments, showing risk-adjusted returns. Key Risks (Don\u0026rsquo;t Skip These!)# Yield farming isn\u0026rsquo;t free money—it\u0026rsquo;s high-reward, high-risk:\nImpermanent Loss: If token prices diverge (e.g., ETH moons while USDC stays flat), your pool share loses value vs. just holding. Smart Contract Vulnerabilities: Hacks can drain pools (e.g., $600M Ronin exploit in past; audit tools like Certik help spot red flags). Rug Pulls/Volatility: New tokens can crash 90% overnight; gas fees eat small farms. Regulatory Hurdles: As a teen in DeFi Scholar, simulations avoid these, but real farming may trigger taxes or regs—emphasize education first. "},{"id":9,"href":"/docs/defi_basics/staking/","title":"Staking","section":"Defi Basics","content":"What is Staking?# Staking is a key mechanism in blockchain networks, particularly in Proof-of-Stake (PoS) systems like Ethereum (post-2022 Merge) or Solana, where participants \u0026ldquo;lock up\u0026rdquo; (or stake) their cryptocurrency tokens to help secure and operate the network. In return, stakers earn rewards, similar to earning interest in a savings account—but with a decentralized twist. It\u0026rsquo;s a core part of DeFi (Decentralized Finance), enabling things like yield farming and passive income without needing a bank.\nHow Staking Works (Step-by-Step)# Choose a Network or Protocol: Staking happens on blockchains that use PoS consensus (e.g., Ethereum for ETH staking) or DeFi apps like Aave or Lido for liquid staking. In DeFi Scholar\u0026rsquo;s simulations, you\u0026rsquo;d start with virtual \u0026ldquo;scholar tokens\u0026rdquo; to mimic this safely.\nLock Your Tokens: You deposit your tokens into a staking pool or smart contract. This \u0026ldquo;stakes\u0026rdquo; them, meaning they\u0026rsquo;re temporarily unavailable for spending but contribute to the network\u0026rsquo;s security by validating transactions and creating new blocks. (Think of it as putting money in a CD—you can\u0026rsquo;t touch it for a while, but it earns interest.)\nEarn Rewards: As a staker, you get a share of the network\u0026rsquo;s fees or newly minted tokens as rewards. Rates vary (e.g., 3-7% APY on Ethereum in 2025), compounded over time. In DeFi Scholar, this is simulated with compounding interest based on real Aave-like rates pulled from APIs, so you see your virtual portfolio grow without real risk.\nUnstake and Withdraw: After a lock-up period (or instantly in liquid staking), you can unstake and retrieve your tokens plus rewards. Tools like Lido let you stake and get a tradable \u0026ldquo;staked token\u0026rdquo; (e.g., stETH) in return, keeping things liquid.\nWhy Stake? Benefits# Passive Income: Earn yields on idle crypto, often higher than traditional savings (e.g., optimizing APY to \u0026ldquo;beat inflation\u0026rdquo; as in DeFi Scholar quests). Network Security: Staking decentralizes validation—bad actors risk losing their stake (slashing) if they cheat. DeFi Integration: Use staked assets as collateral for loans or in yield farming. In 2025 trends, it\u0026rsquo;s evolving with RWAs (real-world assets), where you could stake tokenized school items like a virtual backpack NFT for lending simulations. Low Barrier: Start small; protocols like Rocket Pool allow pooling with just 0.01 ETH. Risks to Watch# Slashing: Lose part of your stake for downtime or malicious behavior. Lock-Up Periods: Tokens might be illiquid for days/months. Volatility: Crypto prices fluctuate, so rewards could be wiped out by market crashes (DeFi Scholar teaches this via simulated \u0026ldquo;market dips\u0026rdquo; and liquidation risks). Impermanent Loss/Smart Contract Bugs: In DeFi staking pools, value can shift if paired with volatile assets. "},{"id":10,"href":"/docs/defi_basics/vaults/","title":"Vaults","section":"Defi Basics","content":"What Are DeFi Vaults?# In the context of Decentralized Finance (DeFi), vaults are automated smart contract-based tools designed to simplify and optimize yield farming and liquidity provision for users. They act like \u0026ldquo;set-it-and-forget-it\u0026rdquo; investment vehicles where you deposit assets, and the vault handles the complex strategies to maximize returns (measured as Annual Percentage Yield or APY) on your behalf. This aligns closely with the \u0026ldquo;yield optimization\u0026rdquo; topic in Module 3 of the DeFi Scholar curriculum, where learners explore how protocols automate earnings from DeFi activities like lending or swapping.\nHow Do Vaults Work?# Deposit Phase: You deposit eligible tokens (e.g., stablecoins like USDC or ETH) into a vault via a DeFi protocol\u0026rsquo;s interface, such as Yearn Finance (the pioneer of vaults) or Beefy Finance. The vault wraps your deposit into a share token (e.g., yvUSDC), representing your proportional ownership.\nAutomation: Behind the scenes, the vault uses algorithms and smart contracts to:\nAllocate funds across multiple DeFi protocols (e.g., lending on Aave, providing liquidity on Uniswap). Rebalance positions dynamically to chase the highest yields—swapping between pools if APYs change. Compound rewards automatically (reinvesting earnings to grow exponentially). This is inspired by the constant product formula (x * y = k) in automated market makers (AMMs) mentioned in the DeFi Scholar core features. Withdrawal Phase: When you withdraw, you get back your share token\u0026rsquo;s value, including compounded gains minus any fees. Yields are influenced by real-time market data, like oracle feeds from Chainlink.\nVaults reduce the manual effort of monitoring DeFi (e.g., avoiding impermanent loss in liquidity pools, as noted in Module 3), making them ideal for beginners—perfect for simulating in DeFi Scholar\u0026rsquo;s virtual \u0026ldquo;scholar tokens\u0026rdquo; environment.\nKey Benefits# Higher Efficiency: Automates APY optimization, potentially earning 5-20%+ on stable assets (vs. manual farming\u0026rsquo;s hassle). Diversification: Spreads risk across protocols, tying into risk-adjusted returns like the Sharpe ratio in DeFi Scholar\u0026rsquo;s gamification. Accessibility: No need for deep coding; just connect a wallet like MetaMask. Examples in Practice# Yearn Finance Vaults: Deposit DAI, and it auto-lends on Compound or farms on Curve for optimized yields. Beefy or Harvest Finance: Focus on cross-chain vaults (e.g., on Ethereum or Solana, as in Module 2), including RWA tokenization trends from 2025. In DeFi Scholar: Imagine tokenizing a virtual school project as an NFT (per the RWA module) and depositing it into a simulated vault for collateralized yields—mirroring real protocols like Aave. Risks to Consider# Smart Contract Vulnerabilities: Bugs can lead to hacks (e.g., past exploits drained millions). Market Volatility: Yields fluctuate; \u0026ldquo;market crashes\u0026rdquo; (as simulated in DeFi Scholar) can cause losses. Fees and Impermanent Loss: Gas costs on Ethereum or slippage in AMMs eat into profits—key risks in Module 3\u0026rsquo;s impermanent loss discussion. Regulatory Note: As a high school project, stick to simulations (no real deposits) to comply with age restrictions, as advised in the proposal. Vaults democratize advanced DeFi, evolving from \u0026ldquo;shady\u0026rdquo; anonymity (Module 1) to regulated tools in 2025\u0026rsquo;s AI-enhanced ecosystems. For hands-on learning, DeFi Scholar\u0026rsquo;s quests could include building a simple vault strategy—start with free tools like Remix IDE for Ethereum simulations! If you\u0026rsquo;re prototyping, check Yearn\u0026rsquo;s docs for integration ideas.\n"},{"id":11,"href":"/docs/defi_basics/amm/","title":"Automated Market Makers","section":"Defi Basics","content":"Deep Dive into Automated Market Makers (AMMs) in DeFi# Automated Market Makers (AMMs) are the backbone of decentralized exchanges (DEXes) in DeFi, revolutionizing how users trade cryptocurrencies without relying on traditional order books or intermediaries. As of November 2025, AMMs power over $1 trillion in annual trading volume across blockchains like Ethereum, Solana, and emerging Layer 2s, enabling permissionless, 24/7 liquidity. This deep dive explores their mechanics, evolution, advantages, pitfalls, security, and future trajectory, drawing on foundational concepts and recent innovations.\nWhat is an AMM?# An AMM is a smart contract protocol that facilitates cryptocurrency trades using algorithmic pricing instead of matching buyers and sellers via order books. Users trade against a liquidity pool—a reserve of token pairs deposited by liquidity providers (LPs) who earn fees from trades. This peer-to-pool model eliminates centralized custodians, reducing counterparty risk and enabling global, instant access.\nAMMs emerged in 2018 with projects like Bancor and Uniswap, addressing the \u0026ldquo;liquidity chicken-and-egg\u0026rdquo; problem in early DEXes. By 2025, they\u0026rsquo;ve matured into sophisticated systems handling everything from stablecoin swaps to perpetual futures, with total value locked (TVL) exceeding $200 billion across ecosystems.\nHow AMMs Work: Core Mechanics# At their heart, AMMs rely on mathematical invariants to determine prices dynamically based on pool balances. The most common is the constant product formula: ( x \\times y = k ), where:\n( x ) = reserve of token A (e.g., ETH), ( y ) = reserve of token B (e.g., USDC), ( k ) = constant product invariant. This hyperbolic curve ensures the pool\u0026rsquo;s total value remains balanced post-trade, with prices adjusting via supply/demand shifts.\nStep-by-Step Trade Example# Consider a pool with 10 ETH (( x )) and 50,000 USDC (( y )), so ( k = 500,000 ). The spot price is ( \\frac{y}{x} = 5,000 ) USDC per ETH.\nUser Sells 1 ETH: New ( x\u0026rsquo; = 11 ) ETH. To maintain ( k ), ( y\u0026rsquo; = \\frac{500,000}{11} \\approx 45,454.55 ) USDC. Output Calculation: User receives ( 50,000 - 45,454.55 = 4,545.45 ) USDC (minus ~0.3% fee). Price Impact: New spot price ≈ 4,132 USDC per ETH—cheaper due to increased ETH supply. LPs deposit equal values of both tokens (e.g., 1 ETH + 5,000 USDC) and receive LP tokens representing their share. They earn 0.05–1% fees per trade, proportional to their stake. Removing liquidity burns LP tokens and returns proportional reserves, but ratios may shift due to trades.\nFees and Incentives: Fees (e.g., Uniswap\u0026rsquo;s tiered 0.01–1%) accrue to LPs. Yield farming—staking LP tokens for extra rewards—boosts participation, though it can lead to over-incentivization.\nTypes of AMMs# AMMs have evolved beyond the basic constant product model to optimize for different assets and risks:\nType Formula/Mechanism Best For Examples Key Trade-Offs Constant Product ( x \\times y = k ) Volatile pairs (e.g., ETH/USDC) Uniswap v2, SushiSwap Simple, but high impermanent loss and slippage. Constant Sum ( x + y = k ) Stablecoins (low volatility) Early stablecoin pools No impermanent loss, but vulnerable to drainage if prices deviate. Hybrid Blends products/sums; weighted pools Multi-asset or stables Curve (stable-optimized), Balancer (custom weights) Flexible, low slippage for similars, but complex math. Concentrated Liquidity Liquidity in price ranges (e.g., ( \\sqrt{P_h} - \\sqrt{P_l} )) Capital-efficient trading Uniswap v3, Orca Higher LP returns, but requires active management. Concentrated models, like Uniswap v3\u0026rsquo;s \u0026ldquo;positions,\u0026rdquo; let LPs focus capital in expected price bands, multiplying efficiency by 4,000x in some cases.\nKey Examples in Action# Uniswap: The OG AMM, launched 2018 on Ethereum. v3 (2021) introduced concentrated liquidity; by 2025, it dominates with $100B+ cumulative volume. Governance via UNI token enables fee switches. Curve Finance: Stablecoin specialist using a low-slippage \u0026ldquo;stable swap\u0026rdquo; invariant. CRV token incentivizes LPs; integrated with lending protocols for composability. Balancer: Allows up to 8 tokens per pool with adjustable weights (e.g., 80/20 BTC/ETH). BAL token for governance; excels in index-like funds. PancakeSwap: BSC-based for low fees; features lotteries and NFTs alongside swaps. Recent Innovation: Skate AMM (Launched March 2025): A cross-VM (virtual machine) AMM on Solana, unifying liquidity across EVM, SVM, TonVM, and MoveVM without bridges. It uses intent-based execution and EigenLayer for security, achieving $70M volume in months by slashing slippage in fragmented markets. This \u0026ldquo;stateless DeFi\u0026rdquo; model enables one-click cross-chain swaps, reducing bridge hacks (historically $2.5B lost). On X, recent chatter highlights Skate\u0026rsquo;s role in liquidity unification, with users praising its bridge-free composability for Solana DeFi.\nPros and Cons# AMMs democratize trading but aren\u0026rsquo;t flawless.\nPros# Decentralization \u0026amp; Accessibility: No KYC, global 24/7 access via wallets. Continuous Liquidity: Pools always available, minimizing downtime. Lower Costs: Fees \u0026lt;0.5% vs. CEX spreads; no withdrawal delays. Transparency \u0026amp; Composability: On-chain audits; integrates with lending/flash loans. Incentives: LPs earn yields (5–50% APY via fees/farming). Cons# Impermanent Loss (IL): If ETH doubles vs. USDC, an LP\u0026rsquo;s pool share underperforms holding (e.g., 5.7% IL at 2x divergence). Formula: ( IL = 2\\sqrt{r} / (1 + r) - 1 ), where ( r ) = price ratio. Slippage: Large trades (\u0026gt;1% pool size) cause 5–20% price impact. Front-Running: MEV bots sandwich trades, extracting value. Gas Fees: High on Ethereum; mitigated by L2s. Scenario Hold Value Pool Value IL % Price Ratio = 1x $10,000 $10,000 0% Price Ratio = 2x $15,000 $14,142 -5.7% Price Ratio = 5x $25,000 $22,360 -10.6% Challenges and Limitations (and Solutions)# As DeFi scales, AMMs grapple with systemic issues:\nLiquidity Fragmentation: Siloed chains cause thin pools and poor discovery. Solution: Aggregators like 1inch or cross-chain like Skate AMM pool liquidity virtually. Price Manipulation: Flash loans skew oracles. Solution: TWAP (time-weighted average prices) and Chainlink oracles. Regulatory Hurdles: AML/KYC tensions with pseudonymity. Solution: Privacy tech like ZK-proofs for compliant yet anonymous trades (e.g., Zama\u0026rsquo;s encrypted KYC). Scalability: Congestion spikes fees. Solution: L2 rollups (Arbitrum) and modular designs. Industry responses include hybrid AMM-orderbook DEXes (e.g., EdgeX on X discussions) for precision trading. Recent X posts also spotlight crvUSD\u0026rsquo;s evolution as a revenue-stabilizing stablecoin amid AMM fee drops.\nSecurity Deep Dive: Risks and Mitigations# Constant-product AMMs\u0026rsquo; simplicity breeds vulnerabilities:\nSmart Contract Bugs: Reentrancy (e.g., 2016 DAO hack echoes) or overflow errors. Mitigation: Audits (Peckshield, ConsenSys) and formal verification. Oracle Manipulation: Flash loan pumps skew ( y/x ) prices for loans/liquidations. Mitigation: Decentralized oracles with delay mechanisms. IL as Economic Attack: Not a bug, but exploitable in volatile pairs. Mitigation: Dynamic fees and IL insurance (e.g., Bancor\u0026rsquo;s v2.1). Cross-Chain Risks: Bridges amplify hacks. Skate\u0026rsquo;s EigenLayer AVS uses $2B+ restaked ETH for slashing-proof attestations. By September 2025, audits emphasize modular contracts: separate liquidity, swap, and oracle logic to isolate failures.\nRecent Developments in 2025# Cross-Chain Unification: Skate AMM\u0026rsquo;s launch unified VMs, hitting 40K+ swaps and enabling Solana dApps to tap EVM liquidity seamlessly. Bitcoin DeFi Boom: Testnets like BestInSlot\u0026rsquo;s AMM bring native swaps to BTC L1, teasing BRC-20 explosions. Perp Innovations: Perpetual Protocol\u0026rsquo;s vAMM hits $17M daily volume with 10x leverage, expanding to Solana. Privacy \u0026amp; RegTech: Zama\u0026rsquo;s FHE enables encrypted DAO votes and KYC, drawing institutions. X buzz focuses on AMM vs. orderbook debates, with Solana\u0026rsquo;s Raydium logging $11B DEX volume.\nFuture Trends: AMMs in 2026 and Beyond# By 2026, expect:\nAI-Optimized Pools: Dynamic rebalancing to minimize IL. Unified Liquidity Layers: Stateless intents across 10+ VMs, per Skate\u0026rsquo;s roadmap. TradFi Hybrids: CEX-AMM bridges with tokenized RWAs. Sustainability: Carbon-neutral L2s and fee-burn mechanisms. Mass Adoption: With TVL projected at $500B+, AMMs could capture 20% of global FX volume if regs harmonize. AMMs aren\u0026rsquo;t perfect, but their evolution from simple swaps to cross-chain powerhouses underscores DeFi\u0026rsquo;s resilience. For builders, start with Uniswap forks in Solidity; for traders, aggregate via Jupiter or 1inch. Dive deeper? Experiment on testnets like Skate\u0026rsquo;s.\n"},{"id":12,"href":"/docs/defi_basics/collateralized_lending/","title":"Collateralized Lending","section":"Defi Basics","content":"What is Collateralized Lending in DeFi?# Collateralized lending is a core mechanism in Decentralized Finance (DeFi) that allows users to borrow cryptocurrency assets by locking up other crypto as collateral, all without traditional intermediaries like banks. Unlike centralized lending (e.g., a bank loan requiring credit checks), DeFi lending is permissionless, trustless, and executed via smart contracts on blockchains like Ethereum or Solana. It\u0026rsquo;s \u0026ldquo;over-collateralized,\u0026rdquo; meaning you must deposit more value in collateral than the loan amount to mitigate default risks in volatile crypto markets.\nThis concept draws from traditional finance but leverages blockchain for transparency and automation. Protocols like Aave, Compound, and MakerDAO popularized it, enabling users to lend idle assets for interest or borrow against holdings to access liquidity without selling.\nHow It Works: Step-by-Step# Deposit Collateral: You supply crypto assets (e.g., ETH, stablecoins like USDC, or tokenized real-world assets like RWAs) into a lending protocol\u0026rsquo;s smart contract pool. These become your collateral, earning interest if others borrow against the pool.\nBorrow Funds: Using your collateral, you can borrow other assets up to a certain loan-to-value (LTV) ratio—typically 50-80% of the collateral\u0026rsquo;s value. For example:\nDeposit $1,000 worth of ETH as collateral. Borrow up to $600 in USDC (at 60% LTV). The protocol calculates this in real-time based on oracle-fed prices (e.g., from Chainlink) to reflect market values. Interest and Repayment: Borrowers pay variable or fixed interest rates, which accrue to lenders. You repay the loan plus interest anytime, retrieving your collateral. No fixed terms—it\u0026rsquo;s flexible.\nLiquidation Mechanism: To protect lenders, if your collateral\u0026rsquo;s value drops (e.g., ETH price crashes) and the LTV exceeds a threshold (e.g., 80%), the protocol automatically liquidates part of your collateral. Liquidators (other users) buy it at a discount (e.g., 5% bonus) to repay the loan, ensuring the system stays solvent.\nThe math behind it often uses formulas like the constant product for pools (inspired by AMMs like Uniswap\u0026rsquo;s x*y=k), but for lending, it\u0026rsquo;s about health factors:\nHealth Factor = (Collateral Value × Liquidation Threshold) / Borrowed Value\nIf this falls below 1, liquidation triggers.\nKey Examples in Practice# Aave or Compound: Users deposit ETH to borrow stablecoins for yield farming or trading. In 2025, with RWA trends, you might collateralize tokenized real estate or even simulated school assets (like a virtual NFT backpack) for educational demos. MakerDAO: Borrow DAI (a stablecoin) against ETH or other cryptos, backing the entire ecosystem with over-collateralized vaults. Benefits# Accessibility: No KYC or credit score needed—anyone with a wallet can participate. Efficiency: Earn yields on collateral (e.g., 2-5% APY) while borrowing. Composability: Borrowed funds can be used in other DeFi apps, like providing liquidity for extra rewards. Decentralized Credit: Mirrors 2025 innovations in protocols decentralizing credit markets, turning everyday assets into lendable tokens. Risks and Considerations# Volatility and Liquidation: Crypto price swings can wipe out collateral quickly—e.g., a 30% ETH drop could trigger liquidation, leading to losses. Impermanent Loss/Smart Contract Risks: If using borrowed funds in pools, you face additional risks like divergence loss; bugs in code can lead to exploits. Over-Collateralization Penalty: Ties up more capital than traditional loans (e.g., 150%+ collateral required). Regulatory Evolution: While simulated versions (e.g., in edtech like DeFi Scholar) avoid hurdles, real DeFi lending faces growing scrutiny for stability. Top DeFi Lending Protocols# Based on data from CoinGecko as of June 2025, here is a table of the top 10 DeFi lending protocols ranked by Total Value Locked (TVL). For the most current rankings (as of November 2025), DefiLlama shows the top 5 as Aave ($32.029B), Morpho ($7.334B), SparkLend ($4.93B), JustLend ($4.217B), and Maple ($2.861B). The full top 20 includes additional protocols like Kamino Finance, Compound, Venus, Euler, and Fluid with TVL ranging from $0.3B to $3.6B, but detailed current TVL for ranks 11–20 varies by source and market conditions—recommend checking DefiLlama for real-time updates. TVL can fluctuate significantly due to market volatility.\nRank Protocol TVL Primary Chain(s) Brief Description 1 Aave $43.8B Ethereum, Arbitrum, Optimism, others Cornerstone of DeFi; supports wide assets, RWA integration via Horizon; governed by AAVE token; overcollateralized loans with asset-specific LTVs (e.g., high for ETH). 2 Morpho $6.3B Ethereum, Base (EVM multichain) Non-custodial lending with zero borrower fees and optimized yields via Vaults; supports 70+ assets; LTV up to 86%; governed by MORPHO token. 3 Spark $5B Ethereum, Gnosis Part of Sky Ecosystem (ex-Maker); includes Savings, SparkLend, Liquidity Layer; supports ETH, WBTC, LSTs, stablecoins; LTV up to 82% for ETH; based on Aave code; future SPK governance. 4 Kamino Finance $3.6B Solana Largest on Solana; offers lending, liquidity vaults, leveraged Multiply, DEX integration; yield-bearing Ktokens as collateral; high thresholds (75% SOL, 90% stables); governed by KMNO. 5 Compound $3.6B Ethereum, Polygon, Arbitrum, Base, others (EVM) Veteran protocol; cTokens accrue interest; risk management via Comptroller; LTV up to 90% via COMP governance; revenue from borrower reserves. 6 Venus $2.3B BNB Chain, Ethereum, L2s Combines lending with VAI stablecoin minting; Compound/Maker fork; 73+ assets; collateral factors 50–82.5% LTV; 10% liquidation bonus; governed by XVS. 7 Euler $2B EVM networks Modular with specialized vaults for risk levels; earn rewards on supplies while borrowing; flexible LTVs by vault; proportional liquidation discounts; governed by EUL DAO. 8 Fluid $2B Ethereum, Base, Arbitrum Capital-efficient with Liquidity Layer and dual interface; \u0026ldquo;Smart Collateral\u0026rdquo; earns DEX fees; high LTV (95% wstETH/ETH); low penalties (0.1%); no fees; governed by FLUID. 9 Suilend $741M Sui Leading on Sui; lending + DEX + bridge; 17+ assets; LTV up to 77% stables; 0% borrow fees; 5% liquidation bonus; governed by SEND DAO. 10 Save Finance (ex-Solend) $284M Solana Major Solana lender; no repayment deadlines; 129+ assets incl. memecoins; 0.1% borrow fee; 5% liquidation bonus; governed by SAVE token. "},{"id":13,"href":"/docs/defi_basics/flash_loans/","title":"Flash loans","section":"Defi Basics","content":"Summary of DeFi Flash Loans# Flash loans are a unique feature in Decentralized Finance (DeFi) that allow users to borrow large amounts of cryptocurrency without any collateral. The catch is that the loan must be repaid (plus a small fee, usually around 0.09%) within the same blockchain transaction—typically in seconds.\nIf repayment doesn\u0026rsquo;t occur, the entire transaction is automatically reversed, making the loan risk-free for the lender. This innovation, popularized by protocols like Aave, enables powerful strategies but also high-risk exploits.\nKey benefits:\nAccess unlimited capital instantly. No upfront funds or credit checks needed. Main uses:\nPrice arbitrage across exchanges. Collateral swaps. Debt refinancing. Risks: Failed transactions waste gas fees, and they\u0026rsquo;ve been used in major attacks by manipulating prices temporarily.\nSimple Example: Arbitrage# Imagine ETH is trading at $2,000 on DEX A but $2,020 on DEX B (a temporary price difference).\nYou take a flash loan of 100 ETH (worth ~$200,000) from Aave—no collateral needed. Buy 100 ETH cheaply on DEX A using the loaned funds. No, wait: actually, to arbitrage, you borrow stablecoins, say USDC. Better simple version:\nBorrow $1 million USDC via flash loan. Swap the $1M USDC for ETH on DEX A (where ETH is cheaper). Immediately swap that ETH back to USDC on DEX B (where ETH is more expensive). Repay the $1M USDC + tiny fee to Aave. Keep the profit (e.g., $10,000 difference). All this happens in one transaction. If prices align and no profit (or loss), it reverts safely.\nFlash loans democratize high-finance strategies but highlight DeFi\u0026rsquo;s wild, permissionless nature!\n"},{"id":14,"href":"/docs/defi_basics/rwa/","title":"RWA - Real World Assets","section":"Defi Basics","content":"Real World Assets (RWAs) in DeFi: A Comprehensive Overview# What Are Real World Assets (RWAs) in DeFi?# Real World Assets (RWAs) are traditional off-chain assets — such as real estate, bonds, commodities (e.g., gold), art, invoices, or carbon credits — that are tokenized on a blockchain. Tokenization converts ownership rights into digital tokens, allowing these assets to be used within decentralized finance (DeFi) protocols for lending, borrowing, trading, and yield generation.\nRWAs bridge traditional finance (TradFi) with DeFi, bringing real-world value and stability on-chain while leveraging blockchain\u0026rsquo;s efficiency, transparency, and 24/7 accessibility.\nHow RWAs Work in DeFi# Legal Structuring: The asset is held by an off-chain entity (e.g., Special Purpose Vehicle or SPV). Tokenization: Smart contracts mint digital tokens (usually ERC-20 for fractional ownership or ERC-721 for unique assets) representing shares of the underlying asset. Oracles \u0026amp; Data Feeds: Services like Chainlink provide real-time pricing and verification (e.g., Net Asset Value updates). On-Chain Integration: Tokens are used as collateral, for liquidity provision, or yield farming in protocols like Aave, MakerDAO, Centrifuge, or Ondo Finance. Key Benefits# Fractional Ownership: High-value assets become accessible to retail investors. Increased Liquidity: Illiquid assets (e.g., real estate) can be traded globally and instantly. Stable Yields: Exposure to real-world returns (e.g., U.S. Treasuries) reduces reliance on volatile crypto assets. Efficiency: Lower costs and faster settlements compared to traditional markets. Global Access: Borderless participation, especially for underserved regions. Popular Use Cases \u0026amp; Examples# U.S. Treasuries: Ondo Finance (OUSG) tokenizes short-term Treasuries. Real Estate: RealT (property-specific NFTs), Centrifuge (pooled real estate loans). Commodities: Pax Gold (PAXG) backed by physical gold. Private Credit: Goldfinch and Centrifuge for on-chain lending against real-world invoices or loans. Carbon Credits: Toucan Protocol for tokenized environmental assets. Challenges# Regulatory uncertainty around tokenized securities. Reliance on off-chain custodians and oracles (potential centralization risks). Legal and operational complexity in linking on-chain tokens to off-chain assets. How Token Supply and Network Are Defined# Token issuers follow a structured process to ensure integrity:\nLegal Wrapper (SPV/Trust): Defines total asset value and exclusivity (one canonical representation). Token Standard: Often ERC-3643 (permissioned) or ERC-20/721 with role-based minting controlled by the SPV. Supply Mechanism: Minting is tied to audited Net Asset Value (NAV) via oracles; supply = Asset Value ÷ Token Price. Canonical Network: Declared in legal documents (commonly Ethereum, Base, Polygon, or dedicated chains like Centrifuge Chain). Preventing Duplicate Listings of the Same Asset# Multiple mechanisms ensure one asset isn\u0026rsquo;t tokenized multiple times across chains:\nLegal Exclusivity Clauses: SPV agreements prohibit multiple issuances. On-Chain Proof-of-Reserve (PoR): Chainlink or similar verifies custody; mismatches flag duplicates. Unique Identifiers: ERC-3643 ONCHAINID, Centrifuge Pool UUID, or metadata hashes (IPFS + legal document hashes). Public Registries: Platforms like RWA.xyz list canonical tickers and chains. Bridging Controls: Cross-chain versions use \u0026ldquo;lock-and-mint\u0026rdquo; (wrapped tokens), never creating new underlying supply. RWA – the positive feedback loop (or a flywheel effect) between traditional assets and on-chain liquidity.# As of late 2025, RWA total value locked has grown significantly, attracting institutional interest. Advances in oracles, standards (e.g., ERC-3643), and regulation are speeding up adoption. RWAs are expected to bring trillions in traditional asset value on-chain, maturing DeFi with greater stability and real-world utility. The RWA is key the future DeFI growth. The more of the real world economy is tokenized, the more DeFi economy will grow. The more DeFi economy grows, the more RWA will be in demand. "},{"id":15,"href":"/docs/trading/","title":"Trading","section":"Docs","content":"Hi\n"},{"id":16,"href":"/docs/trading/l2-market-order/","title":"L2 Order Book","section":"Trading","content":"Layer 2 (L2) Networks# In the world of Decentralized Finance (DeFi), Layer 2 (L2) solutions are essential for scaling blockchain networks like Ethereum, reducing congestion and high gas fees on the base layer (Layer 1). An L2 order book refers to a trading mechanism built on these scalable layers, where buy and sell orders for cryptocurrencies or tokens are matched in a transparent, decentralized manner. Unlike Automated Market Makers (AMMs) that rely on liquidity pools, an order book model lists all open orders by price and quantity, allowing traders to place limit orders, market orders, or stop-loss orders directly on the L2 chain. This provides tighter spreads, better price discovery, and lower slippage for high-volume trades.\nHow L2 Order Books Work# Order Placement: Traders submit buy (bid) or sell (ask) orders via a smart contract on the L2 network. These orders are batched and executed off-chain for efficiency but settled on-chain for security. Matching Engine: A decentralized matching engine (often using zero-knowledge proofs or optimistic rollups) pairs compatible orders. For example, a buy order at $100 will match a sell order at or below that price. Settlement: Trades are finalized on the L2 layer with minimal fees, and assets are transferred atomically via wrapped tokens or bridges. What is a Limit Order?# A limit order is an instruction to buy or sell an asset at a specific price or better.\nBuy limit order: You specify a maximum price you\u0026rsquo;re willing to pay. The order only executes if the asset\u0026rsquo;s price falls to or below your limit price. Sell limit order: You specify a minimum price you\u0026rsquo;re willing to accept. The order only executes if the asset\u0026rsquo;s price rises to or above your limit price. Unlike market orders (which execute immediately at the current best available price), limit orders are not guaranteed to fill—they remain open in the order book until the market reaches your specified price or you cancel them.\nExample: You believe ETH is worth $4,000 but don\u0026rsquo;t want to buy above $3,950. You place a buy limit order at $3,950. If the market price drops to $3,950 or lower, your order may be filled. If it never reaches that level, the order stays open.\nLimit orders are the most common order type in order book-based systems and are essential for strategies that require precise entry or exit prices.\nKey Advantages# Low fees and high speed: Trades cost pennies and settle in milliseconds. Better price discovery: Limit orders enable tighter spreads and reduced slippage. Advanced trading features: Support for stop-loss, take-profit, and iceberg orders. Transparency: All open orders are visible in the order book. Challenges# Liquidity fragmentation: Multiple L2s can split liquidity. Cross-chain complexity: Moving assets between layers requires bridges. Centralization risks: Some L2 matching engines may be semi-centralized for performance. L2 order books combine the precision of centralized exchanges with the security and decentralization of blockchain technology.\n"},{"id":17,"href":"/docs/trading/margin-loans/","title":"Margin Loans","section":"Trading","content":"Margin Loans# Margin loans allow traders to borrow assets against collateral to increase their position size (leverage). In DeFi, these loans are provided through decentralized lending protocols using smart contracts. Traders deposit collateral (e.g., ETH) and borrow another asset (e.g., USDC) to trade with leverage (2x, 5x, 10x, etc.).\nHow Margin Loans Work# Collateral Deposit: Deposit assets into a lending protocol. The loan-to-value (LTV) ratio determines the maximum borrow amount (e.g., 75% LTV means 100 collateral allows borrowing 75). Borrowing: Select the asset and amount to borrow. Interest accrues continuously based on supply and demand. Leveraged Trading: Use borrowed funds to open larger positions in spot, perpetuals, or options markets. Health Factor / Collateral Ratio: The protocol monitors the collateral-to-debt ratio. If it falls below a threshold (e.g., 150%), the position becomes eligible for liquidation. Liquidation: If undercollateralized, the collateral is sold to repay the loan. Liquidators usually receive a fee. Key Metrics# Loan-to-Value (LTV): Maximum borrow amount relative to collateral. Liquidation Threshold: Collateral ratio below which liquidation occurs. Interest Rates: Variable rates determined by utilization (borrowed vs. available liquidity). Benefits# Amplified returns — Leverage magnifies gains. Capital efficiency — Trade larger positions with less capital. No credit checks — Permissionless and instant. Risks# Liquidation risk — Volatility can trigger forced sales. Interest costs — Rates can spike during high demand. Market manipulation — Oracle price feeds must be reliable. Best Practices# Maintain a high collateral ratio (e.g., 200%+). Use stop-loss orders to manage risk. Monitor positions during volatile periods. Borrow conservatively and understand liquidation mechanics. Margin loans enable leveraged trading in a decentralized manner but require careful risk management.\nExample# Simple, No-Hedges Version# (Exactly how a pure cash equity market maker operates on a normal day with only stock + prime broker loan)\nStock: TSLA\nDate: A regular day in 2025, TSLA around $420\nMarket maker: “Northstar Trading” (small 8-person shop)\nPrime broker: Citadel Securities or Jane Street (they also act as PB for smaller firms)\nStart of Day (09:30 ET)# Northstar is flat: 0 shares, 0 cash borrowed.\nThey put up the tightest quote on the tape:\nBid $420.00 × 20,000 shares\nAsk $420.01 × 20,000 shares\n(1-cent wide – they want all the flow)\n09:35 – Retail buying frenzy starts# In the first 15 minutes, retail keeps hitting their offer.\nNorthstar sells 500,000 shares short at an average price of $420.15\nPosition now:\n–500,000 TSLA (short)\nCash generated: +$210,075,000 (credit balance)\nPrime broker instantly lends them the $210 million worth of stock to be short.\nBecause it’s a pure portfolio margin on a single liquid stock, the PB only requires about 12–15% margin on a well-behaved day.\nMargin requirement: ≈ $28 million\nNorthstar’s own capital used: $28 million\nEffective leverage: ≈ 7.5× (they control $210m of inventory with $28m of their own money)\n10:30 – Big seller appears (institution unloading)# The same institution that was buying yesterday is now selling 1.2 million shares.\nThey lean on Northstar’s bid.\nNorthstar buys aggressively: +900,000 shares at an average $ 418.80\nPosition flips in 8 minutes:\nFrom –500k → now +400,000 net long TSLA\nAverage long price: $418.80\nCurrent market price: $418.50 (stock is down $1.50 on the selling pressure)\nCash borrowed from PB now: ≈ $167 million (to finance the long shares)\nMargin requirement jumps to ≈ $52 million (still only ~15–18% because TSLA is liquid and volatility is normal)\nLeverage at this moment: still ~6–7×\n13:00 – Rebound# Elon tweets something; the stock rips from $418 to $424 in 30 minutes.\nNorthstar is long 400,000 shares → an unrealized gain of ~$6/share = +$2.4 million in half an hour.\nThey calmly sell their entire long inventory into the strength between $423.50 – $424.20, flattening out again.\nEnd of Day (16:00 ET)# Total shares traded by Northstar: 2.6 million round-trip\nAverage edge captured: $0.011 per share\nGross profit from the bid-ask spread + inventory rebounds: ≈ $58,000 realized + $2.38 million from the well-timed long inventory = ~$2.44 million total P\u0026amp;L\nPeak borrowing from prime broker during the day: $192 million\nPeak own capital at risk: $58 million\nHighest leverage hit: ~7.5×\nMargin calls / restrictions: zero (the PB system simply raised the requirement gradually; Northstar always had excess margin)\nThis is real life for dozens of small-to-mid-sized equity market makers every single day — no options, no futures, just stock + smart portfolio-margin loan from the prime broker that understands the true risk second-by-second.\nIn DeFi today, the same person providing liquidity on a TSLA/wETH pool would have been liquidated twice already (once when it dropped to $418, once on the way back up when they went out of range), even though their actual economic risk was tiny, and they made $2.4 million.\n"},{"id":18,"href":"/docs/trading/market-making/","title":"Market Making","section":"Trading","content":"What is Market Making?# Market making is a crucial strategy in DeFi trading where participants provide liquidity to markets by continuously quoting buy and sell prices for assets. On our platform, market makers help ensure smooth trading by narrowing bid-ask spreads, reducing volatility, and enabling instant executions for other users. In contrast to traditional finance, DeFi market making is permissionless—anyone can participate by depositing assets into liquidity pools or order books, earning fees from trades that use their liquidity.\nTypes of Market Making in DeFi# Passive (AMM-based): Users deposit equal values of two assets into a liquidity pool (e.g., ETH/USDC). The pool automatically sets prices using a formula (e.g., constant product: x × y = k). Market makers earn a share of trading fees. Active (Order Book-based): Traders place limit orders on both sides of the order book and adjust them dynamically based on market conditions. This requires more active management but can offer tighter spreads. Hybrid Approaches: Some protocols combine AMM pools with order book features for better efficiency. How Market Makers Earn Profits# Bid-Ask Spread: Profit from the difference between buy and sell prices. Trading Fees: Earn a portion of fees from trades that use their liquidity. Incentives: Many DeFi platforms offer token rewards for liquidity provision. Risks# Impermanent Loss (IL): In AMM pools, price changes can cause losses compared to simply holding the assets. Inventory Risk: Holding unbalanced positions during volatile markets. Adverse Selection: Being \u0026ldquo;picked off\u0026rdquo; by informed traders. Best Practices# Use hedging strategies to mitigate IL. Monitor market conditions and rebalance positions. Diversify across multiple pools or pairs. Start with low-risk, high-volume pairs. Market making is essential for deep liquidity and efficient price discovery in DeFi markets.\n"},{"id":19,"href":"/docs/uniswap/","title":"Uniswap","section":"Docs","content":"Overview# What is Uniswap?# Uniswap is a decentralized exchange (DEX) protocol that operates as an automated market maker (AMM) on the Ethereum blockchain and compatible networks, enabling users to swap cryptocurrencies directly in a permissionless, noncustodial manner without relying on centralized intermediaries like traditional exchanges At its core, Uniswap allows anyone to create liquidity pools for token pairs by depositing equal values of two assets, which traders can then use to execute swaps while liquidity providers (LPs) earn fees proportional to their share of the pool—typically ranging from 0.05% to 1% per trade, depending on the pool\u0026rsquo;s fee tier. This model democratizes market-making, provides on-chain price discovery, and supports features like concentrated liquidity (introduced in v3) for capital-efficient positioning within specific price ranges, as well as customizable \u0026ldquo;hooks\u0026rdquo; in v4 for advanced functionalities such as dynamic fees or on-chain auctions. Origins# The protocol originated in November 2018 when developer Hayden Adams, inspired by a blog post from Ethereum co-founder Vitalik Buterin on constant-function market makers, launched Uniswap v1 as a proof-of-concept with funding from an Ethereum Foundation grant. It quickly gained traction in the decentralized finance (DeFi) ecosystem, evolving through v2 (2020, adding ERC-20 token swaps) and v3 (2021, enhancing efficiency with concentrated liquidity and oracles) to v4 (launched in mid-2024, focusing on modularity and gas optimizations). By 2025, Uniswap remains the dominant DEX by trading volume, processing billions in daily trades and holding a significant share of DeFi liquidity, while its governance token UNI empowers community-driven decisions on protocol upgrades\nCompetition# Uniswap faces competition from other AMM-based DEXs that have forked or built upon its design, including SushiSwap (a community-driven fork emphasizing yield farming and governance rewards), Curve Finance (specialized in low-slippage stablecoin swaps), Balancer (supporting multi-asset weighted pools for portfolio management), PancakeSwap (a Binance Smart Chain alternative with lower fees and gaming elements), and aggregators like 1inch (which routes trades across multiple DEXs for optimal pricing). These rivals often differentiate through niche focuses, such as stable assets or cross-chain compatibility, but Uniswap\u0026rsquo;s first-mover advantage, security track record, and ongoing innovations continue to solidify its leadership in the space. Reading list# V3 whitepaper V3 blog "},{"id":20,"href":"/docs/uniswap/uniswap_competitors/","title":"Impermanent Loss","section":"Uniswap","content":"Uniswap is one of the leading decentralized exchanges (DEXes) in the DeFi space, primarily known for its automated market maker (AMM) model on Ethereum. Based on current market data and analyses as of late 2025, its top competitors include other prominent DEXes and aggregators that offer similar trading, liquidity provision, and swapping features, often with unique twists like lower fees, cross-chain support, or specialized pools. Here are the top 3:\nHere is a comparison of Uniswap and its top 3 competitors (SushiSwap, PancakeSwap, and Curve Finance) based on the latest available data as of late December 2025. Metrics are approximate and aggregated across chains/deployments where applicable; trading volume refers to recent 24h figures, TVL reflects protocol-wide estimates, and number of currency pairs varies by version/chain (permissionless DEXs often have thousands of possible pairs via user-created pools).\nDEX Name Number of Currency Pairs Traded TVL (approx.) Trade Volume (24h approx.) Uniswap 1,000–2,000+ (e.g., ~1,710 on V3 Ethereum; higher across chains) ~$4–5 billion $1–2 billion (dominant on Ethereum/Arbitrum/Base) SushiSwap 300–1,000 (e.g., ~315–949 across deployments) \u0026lt;$1 billion $50–200 million PancakeSwap 1,000–3,000+ (e.g., ~1,305 on V3 BSC; higher combined) ~$2–3 billion $1–2 billion (leads on BNB Chain) Curve Finance 100–500 (specialized pools, e.g., ~474 on Ethereum) ~$1.8–2.3 billion $300–600 million (strong in stablecoin swaps) "},{"id":21,"href":"/docs/uniswap/aave_uniswap/","title":"AAVE and Uniswap","section":"Uniswap","content":"Overview of Aave and Uniswap# Aave and Uniswap are two prominent protocols in the decentralized finance (DeFi) ecosystem on Ethereum and other blockchains. They serve complementary but distinct roles: Aave is a decentralized lending and borrowing platform, while Uniswap is a decentralized exchange (DEX) for token swaps. Their relationship is primarily integrative and symbiotic, where Uniswap\u0026rsquo;s liquidity and trading infrastructure enhances Aave\u0026rsquo;s functionality, and vice versa, creating efficiencies for users in the broader DeFi space.\nKey Similarities# Both protocols are:\nDecentralized and permissionless: Built on smart contracts, allowing anyone to participate without intermediaries. Governance-driven: Managed by community tokens (AAVE for Aave, UNI for Uniswap), enabling decentralized decision-making. Interoperable: Designed to work seamlessly with other DeFi tools, including each other, via Ethereum\u0026rsquo;s composability. Core Functions# Protocol Primary Function Key Features Aave Lending \u0026amp; Borrowing Users deposit assets to earn interest (as suppliers) or borrow against collateral (as borrowers). Supports flash loans (uncollateralized, instant loans repaid in the same transaction). Uses liquidity pools for efficient matching. Uniswap Token Swapping Automated market maker (AMM) DEX using liquidity pools. Users provide liquidity to earn fees or swap tokens with minimal slippage. V3 introduces concentrated liquidity for better capital efficiency. Direct and Indirect Relationships# Liquidity Integration:\nAave relies on deep liquidity for its lending pools. Uniswap provides this by allowing users to swap assets instantly, which is crucial for Aave\u0026rsquo;s flash loans or when borrowers need to liquidate collateral. Example: A trader might use a Uniswap flash loan (via Aave) to arbitrage price differences on Uniswap itself, repaying the loan profitably in one transaction. Composability in DeFi Strategies:\nUsers often chain interactions: Borrow stablecoins on Aave, swap them for yield-bearing tokens on Uniswap, then redeposit into Aave for leveraged yields. Aave\u0026rsquo;s aTokens (interest-bearing deposits) can be traded on Uniswap, creating secondary markets for lending positions. Shared Ecosystem and Governance Overlaps:\nBoth are part of Ethereum\u0026rsquo;s DeFi meta-layer, with integrations via protocols like Yearn Finance or Compound. Community cross-pollination: Developers from one often contribute to the other, and governance proposals may reference synergies (e.g., Aave\u0026rsquo;s risk parameters adjusted based on Uniswap\u0026rsquo;s trading volumes). Technical and Economic Ties:\nFlash Loans Synergy: Aave pioneered flash loans in 2020, which power ~70% of DeFi arbitrage on Uniswap (per Chainalysis data). This generates fees for Aave while stabilizing Uniswap prices. Risk Management: High Uniswap volumes can signal market volatility, influencing Aave\u0026rsquo;s liquidation thresholds to prevent bad debt. Real-World Impact# Adoption Metrics: As of mid-2025, Aave holds ~$10B in TVL (total value locked), while Uniswap exceeds $5B in daily volume. Their interplay boosts overall DeFi TVL to $100B+. Challenges: Both face Ethereum gas fees and oracle risks, but integrations mitigate these (e.g., Uniswap V3 oracles feed into Aave\u0026rsquo;s pricing). Future Outlook: Ongoing developments like Aave V4 (modular risk engine) and Uniswap V4 (hooks for custom logic) could deepen ties, such as native flash loan pools. In essence, Aave and Uniswap exemplify DeFi\u0026rsquo;s \u0026ldquo;money Legos\u0026rdquo; principle—stackable building blocks that amplify each other\u0026rsquo;s utility without direct ownership or competition. For deeper dives, check their docs: Aave or Uniswap.\n"},{"id":22,"href":"/docs/uniswap/impermanent_loss/","title":"Impermanent Loss","section":"Uniswap","content":"Impermanent Loss in Uniswap V3# Impermanent loss (IL) is the difference in value between:\nHolding your tokens in your wallet, and Providing them as liquidity in a Uniswap V3 pool. It occurs when the price of the two tokens in the pool moves away from the price at which you deposited. The loss is called “impermanent” because it only becomes real when you withdraw; if the price returns to the original level, the loss disappears.\nSimple Example (ETH/USDC pool)# Current price: 1 ETH = $2,000 You deposit $10,000 total: 2.5 ETH + $5,000 USDC (50/50 value) into a Uniswap V3 position. Two scenarios after some time:\nScenario Price of ETH If you had just HODLed (kept tokens) Value of your LP position when withdrawn Impermanent Loss Price stays the same $2,000 $10,000 $10,000 $0 Price rises to $4,000 (ETH 2×) $4,000 2.5 ETH × $4,000 + $5,000 = $15,000 ≈ $13,416 ≈ $1,584 loss Price falls to $1,000 (ETH 0.5×) $1,000 2.5 ETH × $1,000 + $5,000 = $7,500 ≈ $6,881 ≈ $619 loss In both cases where price moved, your LP position is worth less than simply holding the original tokens would have been.\nWhy Uniswap V3 is different# In V3 you choose a specific price range (e.g., $1,800–$2,200). If the market price leaves your range, your position becomes 100% one token (usually the stablecoin when price rises, or the volatile token when the price falls). Narrow ranges = higher fees when the price stays inside, but much higher IL when price moves out. Bottom line:\nImpermanent loss is the cost of earning trading fees. The more the price moves (and the narrower your range), the larger the potential IL. Fees collected can offset or exceed the loss in low-volatility or high-volume pools, but in highly volatile conditions IL often dominates.\nYes, the summary largely holds for Uniswap V4, with some nuances.\nCore Mechanism Remains the Same# Uniswap V4 retains the same concentrated liquidity model as V3. Liquidity providers select specific price ranges, and impermanent loss (IL) arises from the same source: price divergence causing the pool to rebalance tokens, resulting in a position worth less than simply holding the deposited tokens. The example in the summary (e.g., value loss when ETH price rises or falls) applies identically to standard V4 pools. If the price leaves your chosen range, the position shifts to 100% one token, amplifying potential IL in narrow ranges—just like in V3. Key Differences in V4# Hooks (customizable plugins) allow pool creators to add logic that can mitigate or hedge IL, such as: Dynamic fees that adjust based on volatility to better compensate for loss. Automated rebalancing or hedging strategies (e.g., buying options to offset IL). Other custom curves or protections. However, these are optional and depend on the specific pool. In a basic V4 pool without advanced hooks, IL behaves exactly as in V3. V4\u0026rsquo;s official documentation confirms concentrated liquidity has the \u0026ldquo;same core implementation\u0026rdquo; as V3. "},{"id":23,"href":"/docs/uniswap/concentrated_liq/","title":"Concentrated Liquidity","section":"Uniswap","content":"Example Illustration of Concentrated Liquidity in Uniswap v3 (BTC/ETH Pair)# Based on Section 2 of the Uniswap v3 whitepaper (\u0026ldquo;Concentrated Liquidity\u0026rdquo;), this is a simplified example using a BTC/ETH pool, where the price p is quoted as ETH per BTC (i.e., how many ETH are needed to buy 1 BTC; BTC is asset X, ETH is asset Y). This follows the paper\u0026rsquo;s math for virtual and real reserves, position solvency within ranges, and how positions activate/deactivate as price moves.\nTo keep calculations exact and illustrative, we\u0026rsquo;ll assume:\nEach LP provides liquidity L = 1000 (a measure of position size/depth, as defined in the paper where L = √k for the virtual constant product curve). Positions use price ranges with perfect squares for clean math (e.g., 1, 4, 9, 16, 25). Swap fee tier = 0.3% (as mentioned in the paper; fees are paid on input amount and accrued to active positions). Initial price p = 9 ETH per BTC (imaginary for simplicity; real-world BTC/ETH is ~20, but this doesn\u0026rsquo;t change the mechanics). A large price movement upward (BTC appreciates vs. ETH) caused by traders buying BTC (inputting ETH, outputting BTC). Positions: LP1 (close to current price): Range [4, 16] ETH per BTC. This is narrow around the initial price of 9. LP2 (deeper in the book, lower prices): Range [1, 4] ETH per BTC. Far below the initial price (inactive initially). LP3 (deeper in the book, higher prices): Range [16, 25] ETH per BTC. Far above the initial price (inactive initially). Only LP1 is active initially (since 4 ≤ 9 ≤ 16). LP2 and LP3 are inactive and hold only one asset each. We\u0026rsquo;ll simulate the price movement via two transactions (swaps) that cross ranges: one moving price from 9 to 16 (deactivating LP1), and another from 16 to 20 (activating LP3). This shows deactivation/activation. Swaps are computed segment-by-segment when crossing ranges, per the paper\u0026rsquo;s concentrated liquidity model. Numbers are rounded to two decimals for readability (exact values from simulation).\nInitial State (Before Any Transactions)# Current price: 9 ETH per BTC. Pool reserves: 133.33 BTC, 2000 ETH. Active positions: Only LP1 (provides all trading liquidity). Position details (size L, range, real reserves held; inactive positions hold single-asset reserves but don\u0026rsquo;t contribute to trading): LP L (Position Size) Range [p_a, p_b] Real Reserves (BTC) Real Reserves (ETH) Status LP1 1000 [4, 16] 83.33 1000 Active LP2 1000 [1, 4] 0 1000 Inactive LP3 1000 [16, 25] 50 0 Inactive Notes: Real reserves follow Equation 2.2 from the paper. Total pool reserves sum all positions (including inactive). The spot price is determined only by active positions\u0026rsquo; virtual reserves (here, LP1\u0026rsquo;s virtual curve gives exactly p=9). Fees paid: N/A (no transaction yet). Transaction 1: Swap ETH for BTC to Move Price from 9 to 16# Description: A trader inputs ETH to buy BTC, moving the price up to the upper bound of LP1\u0026rsquo;s range (16 ETH per BTC). This uses only LP1\u0026rsquo;s liquidity (as it\u0026rsquo;s the only active position). Once the price hits 16, LP1 deactivates (its reserves shift to 100% ETH, per the paper—it can no longer support upward trades). Input: 1003.01 ETH (gross; trader pays this to the pool). Output: 83.33 BTC. Fees paid: 3.01 ETH (0.3% of input; accrued to LP1 as it was active during the trade). New price: 16 ETH per BTC. New pool reserves: 50 BTC, 3003.01 ETH. New position details (real reserves are base formula values; accrued fees are extra claimable by LPs but remain in pool reserves): LP L (Position Size) Range [p_a, p_b] Real Reserves (BTC) Real Reserves (ETH) Status LP1 1000 [4, 16] 0 2000 (+3.01 fees) Inactive (deactivated) LP2 1000 [1, 4] 0 1000 Inactive LP3 1000 [16, 25] 50 0 Inactive (but activates at 16 for further upward moves) Notes: LP1 deactivated as price exited its range upward (reserves now 100% ETH, matching paper\u0026rsquo;s description). Total pool ETH includes the 3.01 fees. LP2 remains inactive (price moved further away). LP3 is now at its lower bound and will activate for the next upward trade. Transaction 2: Swap ETH for BTC to Move Price from 16 to 20# Description: Another trader (or continuation) inputs ETH to buy BTC, moving price to 20 ETH per BTC. This uses LP3\u0026rsquo;s liquidity (activated at 16). LP1 remains inactive. Input: 473.56 ETH (gross; trader pays this to the pool). Output: 26.39 BTC. Fees paid: 1.42 ETH (0.3% of input; accrued to LP3 as it was active during the trade). New price: 20 ETH per BTC. New pool reserves: 23.61 BTC, 3476.57 ETH. New position details (real reserves are base formula values; accrued fees are extra claimable by LPs but remain in pool reserves): LP L (Position Size) Range [p_a, p_b] Real Reserves (BTC) Real Reserves (ETH) Status LP1 1000 [4, 16] 0 2000 (+3.01 fees) Inactive LP2 1000 [1, 4] 0 1000 Inactive LP3 1000 [16, 25] 23.61 472.14 (+1.42 fees) Active (activated) Notes: LP3 activated as price entered its range (providing the virtual curve for trading). LP1 stayed inactive (price is now outside [4,16]). LP2 remained inactive (price is even further above its range). Total pool ETH includes cumulative fees (4.43 ETH total across transactions). If price reversed downward, LP3 could deactivate, and LP1 could reactivate. This example demonstrates the paper\u0026rsquo;s key concepts: LPs concentrate liquidity in custom ranges for efficiency, positions activate/deactivate based on current price (allowing market-driven allocation), and inactive positions hold single assets without contributing to trades. In a real BTC/ETH pool, similar dynamics apply, but with discrete ticks and real prices (e.g., around 20 ETH per BTC). If the price moved downward instead, it could deactivate LP1 and potentially activate LP2. For more details or variations, see Equations 2.1–2.2 and Figures 1–3 in the paper.\n"},{"id":24,"href":"/docs/uniswap/multiple_pools/","title":"Multiple Pools","section":"Uniswap","content":"Section 3: Architectural Changes (Uniswap v3 Whitepaper)# Uniswap v3 introduces several architectural redesigns compared to v1 and v2. Some changes are required to support concentrated liquidity (custom price ranges per position), while others are independent enhancements for flexibility and modularity.\n3.1 Multiple Pools per Pair# v1/v2 Limitation: Only one pool per token pair (e.g., ETH/USDC), with a fixed 0.30% swap fee for all trades. This fee is often too high for low-volatility pairs (e.g., stablecoins like USDC/DAI). Too low for high-volatility or exotic pairs (needing higher LP compensation). v3 Solution: Multiple pools per token pair, each with a different swap fee tier. All pools created via the same factory contract. Initial fee tiers: 0.05% (stablecoins), 0.30% (default), 1.00% (volatile pairs). UNI governance can add new tiers later. Benefits: LPs and traders choose the optimal pool for risk/reward. Avoids liquidity fragmentation while allowing fee customization. 3.2 Non-Fungible Liquidity# Concentrated liquidity makes positions unique (custom ranges + separate fees), so traditional fungible LP tokens are impossible.\n3.2.1 Non-Compounding Fees# v1/v2 Behavior: Swap fees automatically added back to the pool as more liquidity → passive growth and compounding. v3 Behavior: Fees stored separately as the actual tokens paid (not reinvested automatically). LPs must manually claim and reinvest fees if desired. Reason: Custom positions prevent automatic reinvestment without losing precision. 3.2.2 Removal of Native Liquidity Tokens# v1/v2 Behavior: Pool contract is an ERC-20 token (LP shares minted/burned on deposit/withdraw). Convenient but violates the \u0026ldquo;core vs. periphery\u0026rdquo; design (core should be minimal; extras in external contracts). Discourages third-party innovations (e.g., better wrappers). v3 Behavior: No ERC-20 in the core pool contract. Liquidity tracked internally via position data. Periphery contracts (built by anyone) can wrap positions: ERC-20 wrappers for fungibility (with custom fee handling/reinvestment). ERC-721 NFTs for individual positions (including accrued fees) → enables trading/lending. Feature Uniswap v1/v2 Uniswap v3 Pools per Pair 1 (fixed 0.30% fee) Multiple (variable fees: 0.05%, 0.30%, 1%+) Fee Compounding Automatic (reinvested as liquidity) Manual (fees as raw tokens) LP Token Standard Native ERC-20 in core None in core; periphery ERC-20/ERC-721 optional Position Fungibility Fully fungible Non-fungible (custom ranges) Overall Impact: These changes enable concentrated liquidity, give LPs more control, keep the core lean, and encourage ecosystem innovation (e.g., vaults, NFT-based DeFi composability)\n"},{"id":25,"href":"/docs/blockchain/intro_and_concepts/","title":"Intro and Concepts","section":"Blockchain","content":"Blockchain Basics: Intro and Concepts# We will start with simple examples to introduce the technology and the way it works Then we\u0026rsquo;ll explain what the important concepts are – what makes the technology so powerful \u0026hellip;and only then we\u0026rsquo;ll get into complex stuff required to understand what goes on under the hood Consider an example: You have a regular account in a bank (like Chase) and Venmo app. A friend is asking you to pay him in Bitcoin. How would this work? (jump ahead to the details of a sample transaction:)\nWallets# Remember how Bitcoin is a network? All the kids with their Venmo apps are now nodes in that network Specifically, these nodes are known as digital wallets Wallets are a lot like bank accounts You keep your money (digital currency, tokens) in them You send/receive tokens from/into them The network knows the wallets by their IDs (just a long text string) A Word on Exchanges# In real markets and cryptocurrency markets, exchanges are companies that perform buying and selling of stocks or currencies If you saw a \u0026ldquo;Currency Exchange\u0026rdquo; kiosk at an airport – that\u0026rsquo;s a little exchange It holds cash in many currencies It buys currency from you at a lower rate and then sells it to someone else at a higher rate and makes profit Stock markets do this as well, just at a much higher scale Buying Bitcoin into Venmo# Venmo holds your wallet and Venmo is connected to your bank account Venmo also acts as an exchange broker The first thing you do in the app is press \u0026ldquo;Buy Crypto\u0026rdquo; \u0026hellip;and then Venmo will do the following: Connect to one of many exchanges operating in the Bitcoin network (Paxos) Conduct the transaction on your behalf Find another wallet (through an exchange) that transfers its Bitcoins to your wallet Take some dollars from your bank account and send to that exchange (which will later send it to whoever \u0026gt; sold bitcoins to you) Can It Be Done Differently?# Yes, it can When cryptocurrencies just started, people used USB-sticks with their digital wallets and had to know their counterparties (people to sell to or buy from) Knowing a counterparty is knowing their wallet’s network address This was a pure peer-to-peer setup – no exchanges, no banks It guaranteed anonymity, which is helpful for all kinds of shady activity The only information that was public is that a wallet with ID1 moved some coins to a wallet with ID2 This option is still available, but most people use bank-linked apps and trade through exchanges – because it is much easier than going hard-core Digital wallets managed by services like Venmo or other digital currency exchanges are called “custodial” wallets – meaning someone has custody of your stuff Summary# Blockchain is a P2P network technology Bitcoin is just one of many blockchain networks Nodes are digital wallets In the “pure” model, it is a decentralized anonymous system In reality, most people use centrally owned services (banks, apps, exchanges) to transact in Bitcoin "},{"id":26,"href":"/docs/blockchain/miners_and_ledger/","title":"Miners and Ledger","section":"Blockchain","content":"Blockchain Step-by-Step: Miners and Ledgers# Miners: The Network\u0026rsquo;s Engine# Beyond digital wallets, the blockchain relies on a critical type of node called a miner. Miners are individuals or corporations that run massive server farms—similar to the infrastructure used for Generative AI—which require significant energy to operate.\nMiners perform three essential roles:\nMinting: They create new units of currency (e.g., Bitcoins) Verification: They confirm the movement of tokens from one wallet to another Maintenance: They update and maintain the record of all transactions The Distributed Ledger# In traditional finance, banks maintain private paperwork to track your balance; in blockchain, this is replaced by a Distributed Ledger. Transparency: Everyone on the network can see all transactions. Immutability: The technology ensures that once a transaction is recorded, it is \u0026ldquo;immutable\u0026rdquo;—it cannot be hacked, changed, or overridden. What Makes a \u0026ldquo;Good\u0026rdquo; Currency?# Remember this: Currencies and Trust? By using complex math algorithms and cryptography, miners ensure the blockchain functions as a reliable financial system, producing a currency that is defined by several key traits enabled by this technology: Feature Blockchain Implementation Scarcity It is very hard to create new coins. Transparency All transactions are visible to everyone. Tamper-Proof It is nearly impossible to create fake coins or transactions. Immutability The transaction history cannot be overwritten. Decentralization The currency is not controlled by any single entity or government. "},{"id":27,"href":"/docs/blockchain/sample_transaction/","title":"Sample Transaction","section":"Blockchain","content":"A Step-by-Step Transaction: David to John# To understand how money moves in DeFi, let\u0026rsquo;s look at a simple scenario where David sends 3 Bitcoins to John.\nTransaction Overview# Creation and Broadcast# Signing: David signs the transaction with his wallet’s private key to prove ownership of the coins.\nMempool: The transaction enters a \u0026ldquo;mempool,\u0026rdquo; a digital waiting room for unconfirmed transactions.\nVisibility: While all nodes can see the transaction, it isn\u0026rsquo;t permanent yet; miners must listen for these broadcasts to prevent double-spending\nCollecting into a Block# Bookkeeping: Miners gather thousands of pending transactions into a \u0026ldquo;block,\u0026rdquo; which acts like a single page in a ledger.\nMetadata: Each block contains a timestamp and a reference to the previous block, forming the \u0026ldquo;chain\u0026rdquo;.\nIncentive: Miners are paid in Bitcoin for this work, though it requires significant electricity\nSolving the Cryptographic Puzzle (Proof of Work)# The Puzzle: To add a block, miners must solve a hard math problem by adjusting a number called a \u0026ldquo;nonce\u0026rdquo; until the block\u0026rsquo;s hash meets specific network requirements.\nProof of Work: This process is called \u0026ldquo;proof-of-work\u0026rdquo;.\nSecurity: This trial-and-error process (trillions of attempts) makes it too expensive for bad actors to attack the network.\nTiming: The network adjusts difficulty every two weeks to ensure a new block is found roughly every 10 minutes.\nVerification and Consensus# Broadcasting: The first miner to solve the puzzle shares their block with the network.\nConsensus: Other nodes verify that the hash is valid and no coins were double-spent.\nFinality: Once consensus is reached, the block is added. Evan receives his 3 Bitcoins, and the record becomes immutable.\nRewards and Repetition# Block Reward: The winning miner currently receives ~3.125 Bitcoins (this \u0026ldquo;halves\u0026rdquo; every four years).\nFees: Miners also collect small transaction fees paid by users like Mark.\nSupply Cap: This system ensures that only 21 million Bitcoins will ever exist, preventing uncontrolled inflation.\n"},{"id":28,"href":"/docs/networks/offchains/","title":"Offchains","section":"Blockchain Networks","content":"Off-Chain Scaling Solutions and Rollups in Ethereum# In the context of Ethereum blockchain scaling, off-chain mechanisms enable the execution of transactions outside the main Layer 1 (L1) chain while preserving its security guarantees. Rollups represent the predominant and most secure form of off-chain scaling solutions currently in use.\n1. Off-Chain Computation: General Principles# Off-chain computation involves performing transaction execution and/or data management in an environment separate from the Ethereum main chain, which is resource-intensive and limited in throughput (approximately 15 transactions per second). The results are then anchored to L1 through cryptographic or cryptoeconomic proofs, allowing verification without full re-execution on the main chain.\nPrincipal categories of off-chain solutions include:\nState channels (e.g., Raiden Network, Perun): Bilateral off-chain state updates with on-chain settlement. Plasma chains: Earlier designs relying on fraud proofs, largely deprecated due to data availability challenges. Rollups: The prevailing approach, posting transaction data to L1 while executing off-chain. Validiums and volitions: Hybrids with off-chain data storage and on-chain proofs. Sidechains (e.g., Polygon PoS): Independent chains with separate consensus, not inheriting full Ethereum security. Rollups are widely regarded as true Layer 2 (L2) solutions due to their complete reliance on Ethereum\u0026rsquo;s security model.\n2. Rollups: Execution and Verification Mechanisms# Rollups perform transaction execution off-chain but post all (or compressed) transaction data to Ethereum L1, typically as calldata or data blobs (via EIP-4844). This design achieves significantly higher throughput, ranging from 2,000 to over 100,000 transactions per second.\nRollups are classified into two primary types based on their verification methodology:\nA. Optimistic Rollups# These assume the validity of off-chain state transitions unless challenged.\nTransactions are batched and executed off-chain by a sequencer. Full transaction data is posted to L1. A challenge period (typically 7 days) allows any participant to submit a fraud proof disproving invalid transitions. Valid fraud proofs result in reversion of the erroneous state and potential penalization of the operator. Prominent examples include Arbitrum One/Nova, Optimism (OP Mainnet), Base, and others.\nPrimary trade-off: Delayed finality for withdrawals during the challenge window.\nB. Zero-Knowledge Rollups (ZK-Rollups)# These provide cryptographic proofs of correctness upfront.\nA prover generates a zero-knowledge proof (e.g., SNARK or STARK) attesting to the validity of off-chain execution. The proof, along with data, is submitted to L1 for verification by a smart contract. No challenge period is required, enabling immediate finality. Prominent examples include Polygon zkEVM, zkSync Era, Scroll, Linea, Starknet, and application-specific rollups like dYdX v4.\nPrimary trade-off: Higher computational cost for proof generation, though rapidly decreasing.\nComparison of Rollup Types (as of 2025)# Feature Optimistic Rollups ZK-Rollups Proof type Fraud proofs (reactive) Validity proofs (proactive) Withdrawal delay ~7 days (unless liquidity provided) Immediate (post-proof verification) Data on L1 Full calldata / blobs Full or compressed data + proof Security assumption At least one honest challenger Cryptographic proofs only Batch posting cost Lower Higher (proof generation), decreasing EVM equivalence High Progressing toward full compatibility Maturity (2025) Leading in total value locked Rapidly gaining adoption Future Developments# With the implementation of Proto-Danksharding (EIP-4844) and the roadmap toward full Danksharding, data availability costs for rollups are expected to decrease substantially. This advancement is anticipated to favor ZK-Rollups in the long term, combining cryptographic finality with cost efficiency while fully leveraging Ethereum\u0026rsquo;s security.\n"},{"id":29,"href":"/docs/research/benefits/","title":"Benefits","section":"Research","content":"Description# The dynamic portfolio margin loan management protocol offers transformative benefits for DeFi liquidity providers (LPs), particularly those using Uniswap v3 positions as collateral. By incorporating impermanent loss (IL) stress-testing and VaR-style models, the system can reduce liquidations by 95-99% compared to fixed-LTV models in protocols like Aave, where recent analyses show liquidation auctions often result in collateral discounts of around 7.6%. This proactive approach—simulating historical crashes like the 2022 FTX collapse or 2025 market dips—triggers soft adjustments such as auto-rebalancing before full liquidations occur, safeguarding LPs from catastrophic losses seen in events like the October 2025 crypto liquidation catastrophe, which generated record fees for Uniswap but wiped out billions in positions. Furthermore, it enables sophisticated LPs to access 80-90% LTV ratios with 5-10× leverage, surpassing current DeFi standards where ETH collateral tops out at 82% LTV on platforms like Aave, while LP positions often face lower limits due to unmitigated IL risks. This unlocks greater capital efficiency, allowing LPs to amplify yields without the constant threat of forced sales.\nBeyond individual LP gains, the protocol fosters a powerful flywheel effect that could revitalize DeFi ecosystems. By attracting top LPs with superior risk-managed borrowing—potentially mobilizing billions from the $12B in idle DeFi liquidity reported in major pools like Uniswap—the system boosts overall liquidity depth, trading volume, and fee generation. This self-reinforcing loop mirrors successful DeFi examples, such as Aave\u0026rsquo;s dominance on Arbitrum (accounting for ~40% of TVL by late 2025), where increased borrowing and lending drive network effects, higher protocol revenues (with top platforms capturing 60-80% of fees industry-wide), and broader adoption. Ultimately, this could bridge the gap between DeFi\u0026rsquo;s current inefficiencies and TradFi\u0026rsquo;s sophisticated prime brokerage models, creating sustainable growth and drawing institutional capital into on-chain finance.\nProjections# How Locked Value (TVL) in Uniswap Would Increase# The dynamic portfolio margin protocol, by enabling risk-managed leverage of 5-10× for Uniswap v3 liquidity providers (LPs), would boost Total Value Locked (TVL) through a combination of capital efficiency and attraction of new capital. Currently, as of late 2025, Uniswap\u0026rsquo;s TVL stands at approximately $4 billion, with the majority (~70%) on Ethereum. In traditional DeFi setups, LPs deposit capital directly, but fixed LTV limits (e.g., 65-82% on platforms like Aave) restrict borrowing against positions due to impermanent loss risks, leaving much liquidity idle or underutilized. This protocol mitigates that by using IL-aware stress-testing to allow safer, higher LTVs (80-90%), letting LPs borrow stablecoins or assets against their Uniswap NFTs and reinvest them into more liquidity provision—creating a \u0026ldquo;leverage loop\u0026rdquo; similar to those in protocols like Gearbox, where users amplify positions without proportional capital input. This composable leverage improves capital efficiency, as seen in DeFi lending where overcollateralization and leverage mechanisms have driven TVL growth by allowing users to lock more value for the same base capital.\nAdditionally, the flywheel effect would draw in idle DeFi liquidity (estimated at $10-12 billion across underutilized pools) and institutional players, as deeper, leveraged liquidity reduces slippage, attracts higher trading volumes, and signals greater protocol confidence—mirroring how rising TVL acts as a market sentiment indicator for inflows. Real-world analogs, like Fluid\u0026rsquo;s lending protocol achieving 3× monthly TVL growth to $800 million through leveraged features, suggest this could increase Uniswap\u0026rsquo;s TVL by 20-50% initially (adding $0.8-2 billion), scaling to 2-3× over time with adoption, as leveraged LPing has boosted TVL in similar DeFi ecosystems by mobilizing underused assets. Historical Uniswap incentives, such as the 2025 program that generated $33 billion in volume and foundational liquidity, demonstrate how enhanced yields from leverage could similarly amplify TVL growth.\nHow Much More in Fees Yield Farmers Would Earn# Yield farmers (Uniswap LPs) would earn significantly more fees due to amplified positions and increased overall ecosystem activity. In 2025, Uniswap generated around $614-625 million in annualized fees, with daily fees averaging ~$1 million, primarily distributed to LPs (after protocol cuts) based on swap volumes of $60 billion monthly. With 5-10× leverage, individual farmers could earn fees on much larger effective positions—for instance, a $100,000 base position leveraged 5× effectively provides liquidity as if it were $500,000, capturing proportionally higher fees (minus borrowing costs of 5-15% interest margin). Optimized v3 pools already yield 8-12% APY from fees alone; leverage could boost this to 40-100% net APY, as seen in leveraged DeFi strategies where capital efficiency multiplies returns.\nOn an ecosystem level, higher TVL from leverage would deepen liquidity, reducing slippage and attracting 1.5-2× more trading volume (based on DeFi patterns where TVL correlates with volume inflows), potentially increasing total LP fees by 30-100% or $185-625 million annually. This mirrors 2025 trends, like Unichain\u0026rsquo;s $832 million TVL driving $2.6 billion in volume, where leveraged features enhanced fee capture. Farmers in high-volume pools (e.g., ETH/USDC) could see 2-5× personal fee income, as the protocol\u0026rsquo;s auto-rebalancing minimizes IL losses, ensuring more consistent yields without frequent liquidations.\n"},{"id":30,"href":"/docs/research/portfolio_value_calculation/","title":"Portfolio Value Calculation","section":"Research","content":"Portfolio Margin in TradFi and DeFi: Calculation and Collateral Valuation# Portfolio margin is a sophisticated margining system used primarily in derivatives trading. It differs from simpler margin types (like Regulation T margin in TradFi or fixed LTV in basic DeFi lending) by focusing on the overall risk of the entire portfolio rather than isolated positions or just the current market value.\nBelow is how collateral value is determined in both TradFi (Traditional Finance) and DeFi (Decentralized Finance). This is based on standard practices and emerging implementations.\nKey Concept: Not Just Current Market Value# Is it calculated against the current market value? No. Portfolio margin uses risk-based models that simulate potential future losses under various market scenarios. While current prices are a starting point (via real-time data or oracles), the calculation incorporates stress tests, correlations between assets, volatilities, and offsets (e.g., hedges that reduce net risk). This allows for higher leverage (e.g., 5-15x in TradFi) but with dynamic adjustments to prevent excessive risk. Why not current value alone? The current market value ignores portfolio diversification, hedging, and extreme events (e.g., market crashes). Risk models provide a more accurate \u0026ldquo;effective\u0026rdquo; value, often leading to lower margin requirements for well-hedged portfolios. How Collateral Value Is Calculated# Collateral value in portfolio margin is assessed as a risk-adjusted net value, not nominal current value. It involves:\nNetting Positions: Long and short positions are offset against each other (e.g., a long call and short put might cancel out some risk). Risk Arrays/Stress Tests: Simulate price moves (e.g., ±10-30% shocks) across the portfolio to estimate worst-case losses. Value at Risk (VaR) or Similar Metrics: Calculate potential losses at a confidence level (e.g., 99% VaR over 1-2 days). Dynamic Updates: Recalculated frequently (seconds to minutes in TradFi; block-by-block in DeFi). Loan-to-Value (LTV) or Margin Requirement: The borrowable amount is derived from this risk-adjusted value, often 70-90% LTV for low-risk portfolios. Aspect TradFi (e.g., via brokers like Interactive Brokers, Charles Schwab) DeFi (Emerging Protocols, e.g., Hyperliquid, Kyan, Delta Exchange) Basis of Calculation Risk-based: Uses models like TIMS (Theoretical Intermarket Margin System) or proprietary algorithms. Simulates market moves (e.g., divide price range into 10 points, calculate P\u0026amp;L at each). Accounts for correlations, Greeks (delta, gamma for options), and stress scenarios (e.g., 2008 crash analogs). Risk-based: Similar to TradFi, but on-chain. Uses oracles (e.g., Chainlink) for prices, then applies VaR-like models or LTV ratios (0-1) based on portfolio risk. Simulates shocks and offsets; dynamic, but constrained by blockchain (e.g., gas costs). Collateral Valuation Example If your portfolio has $100K in stocks + hedging options, current value might be $100K, but risk model shows max loss of $20K under stress → effective collateral value ~$80K (after offsets). Margin requirement: 15-30% of notional, allowing higher borrow. For a DeFi LP position (e.g., Uniswap v3 NFT as collateral), current value might be $10K, but IL stress test shows $3K potential loss → effective value $7K. LTV adjusts dynamically (e.g., 80% borrow if low risk). Not standard in all DeFi (e.g., Aave uses simpler cross-margin), but growing in derivatives DEXs. Advantages Over Current Value Higher efficiency: Well-hedged portfolios need less margin (e.g., 6:1 leverage vs. 2:1 in Reg T). Reduces unnecessary liquidations. Capital efficiency: Allows 5-10x leverage on LP positions without fixed LTV traps. Addresses impermanent loss (IL) via simulations, as proposed in your attached documents. Limitations Requires approval (e.g., $100K+ account, experience). Can lead to higher risk if models fail (e.g., in black swan events). Still nascent; relies on oracles (vulnerable to manipulation). Higher complexity/gas fees. Not widespread (e.g., absent in basic lending like Compound). Eligibility For experienced traders with derivatives-heavy accounts (e.g., options, futures). Regulated by FINRA/SEC. Varies by protocol; often for perp DEXs or advanced lending. No KYC, but smart contract risks apply. "},{"id":31,"href":"/docs/smart_contracts/polymarket/","title":"Polymarket","section":"Smart Contracts","content":"Another example – Polymarket# Polymarket is a prediction markets defi app created using smart contracts It is effectively a betting app – you place a bet on an event There are other prediction markets apps (Kalshi, for instance), and they are just an example of how easy it is to get a multi-billion business working in De-FI Smart Contracts in Prediction Markets (e.g., Polymarket)# Bet Placement:# Smart contract creates a market for \u0026ldquo;Washington Capitals winning Stanley Cup?\u0026rdquo; with \u0026ldquo;Yes/No\u0026rdquo; outcome tokens Bettors deposit crypto (e.g., USDC) to buy \u0026ldquo;Yes\u0026rdquo; shares at market price (e.g., $0.40 = 40% chance), locking funds trustlessly in the contract—no intermediary needed. Outcome Resolution:# Oracle (e.g., Chainlink/UMA) feeds an official NHL result to contract; if Caps win, \u0026ldquo;Yes\u0026rdquo; = $1 (auto-redeem), \u0026ldquo;No\u0026rdquo; = $0—verifiable, tamper-proof data triggers resolution instantly. Automatic Payouts:# Contract calculates and sends winnings directly to winners\u0026rsquo; wallets (e.g., $0.60 profit per $1 bet on \u0026ldquo;Yes\u0026rdquo;); full transparency on-chain, no disputes or delays "}]